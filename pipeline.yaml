apiVersion: tekton.dev/v1
kind: Pipeline
metadata:
  name: post-install-hook
  namespace: default
spec:
  params:
    - name: githubRepo
      type: string
  tasks:
    - name: post-install
      taskSpec:
        params:
        - name: githubRepo
          value: $(params.githubRepo)
        steps:
        - name: git-clone-step
          image: quay.io/ibmtz/ibm-pak-ubi:latest
          script: |
            #!/usr/bin/env bash
            mkdir postInstallHook
            cd postInstallHook
            git clone $(params.githubRepo) 
            bash main.sh